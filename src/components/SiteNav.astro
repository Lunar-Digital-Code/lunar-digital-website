---
// API import
import { getCategories } from "../graphql/wpQuery";

const data = await getCategories();
//categories.posts.edges[0].node.categories.nodes[0].name
// maybe make this an object instead so I can push the name and the slug
const categories = [];
const edges = data.posts.edges;
for (var i = 0; i < edges.length; i++) {
  let temp = edges[i].node.categories.nodes;
  for (var j = 0; j < temp.length; j++) {
    let cat = temp[j].name;
    if (!categories.includes(cat)) {
      categories.push(cat);
    }
  }
}

categories.sort();
// TODO actually generate routes based on the categories
---

<nav>
  <ul>
    {
      categories.map((cat) => (
        <li>
          <a href="#">{cat}</a>
        </li>
      ))
    }
  </ul>
</nav>

<style>
  nav {
    display: flex;
    flex-direction: row-reverse;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    max-width: 1500px;
    margin-inline: auto;
    padding-inline: var(--space-md);
    border: 1px solid red;
  }

  nav li {
    list-style: none;
    display: inline;
  }

  nav a {
    text-decoration: none;
  }
</style>
